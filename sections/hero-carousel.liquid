{%- liquid
  assign slide_timings = section.settings.slide_timings | default: '12000,6000'
  assign padding_top = section.settings.padding_top | default: 0
  assign padding_bottom = section.settings.padding_bottom | default: 80
-%}

<div 
  class="grid-block"
  style="
    --span-s: span {{ section.settings.span_s | default: 2 }};
    --start-s: {{ section.settings.start_s | default: 'auto' }};
    --align-s: {{ section.settings.align_s | default: 'center' }};
    
    --span-m: span {{ section.settings.span_m | default: 4 }};
    --start-m: {{ section.settings.start_m | default: 'auto' }};
    --align-m: {{ section.settings.align_m | default: 'center' }};
    
    --span-l: span {{ section.settings.span_l | default: 6 }};
    --start-l: {{ section.settings.start_l | default: 'auto' }};
    --align-l: {{ section.settings.align_l | default: 'center' }};
    
    --span-xl: span {{ section.settings.span_xl | default: 8 }};
    --start-xl: {{ section.settings.start_xl | default: 'auto' }};
    --align-xl: {{ section.settings.align_xl | default: 'center' }};

    padding-top: {{ padding_top }}px;
    padding-bottom: {{ padding_bottom }}px;
  "
>
  {% render 'hero-card', 
    blocks: section.blocks,
    timings: slide_timings,
    max_width: section.settings.max_width
  %}
</div>

{% schema %}
{
  "name": "Hero Carousel",
  "tag": "section",
  "class": "section-hero-carousel grid-container",
  "settings": [
    {
      "type": "range",
      "id": "max_width",
      "min": 600,
      "max": 3840,
      "step": 40,
      "default": 1920,
      "unit": "px",
      "label": "Max Width"
    },
    {
      "type": "text",
      "id": "slide_timings",
      "label": "Slide timings (ms)",
      "default": "12000,6000",
      "info": "Comma-separated durations for each slide"
    },
    {
      "type": "header",
      "content": "Spacing"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 200,
      "step": 4,
      "default": 0,
      "unit": "px",
      "label": "Padding Top"
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 200,
      "step": 4,
      "default": 80,
      "unit": "px",
      "label": "Padding Bottom"
    },
    {
      "type": "header",
      "content": "Grid Layout"
    },
    {
      "type": "number",
      "id": "span_s",
      "label": "Column Span (Mobile)",
      "default": 2
    },
    {
      "type": "number",
      "id": "span_m",
      "label": "Column Span (Tablet)",
      "default": 4
    },
    {
      "type": "number",
      "id": "span_l",
      "label": "Column Span (Desktop)",
      "default": 6
    },
    {
      "type": "number",
      "id": "span_xl",
      "label": "Column Span (Wide)",
      "default": 8
    }
  ],
  "blocks": [
    {
      "type": "slide",
      "name": "Hero Slide",
      "settings": [
        {
          "type": "header",
          "content": "Images"
        },
        {
          "type": "image_picker",
          "id": "image_light",
          "label": "Image (light mode)"
        },
        {
          "type": "image_picker",
          "id": "image_dark",
          "label": "Image (dark mode)"
        },
        {
          "type": "url",
          "id": "image_light_url",
          "label": "Image URL (light mode)",
          "info": "Alternative to image picker"
        },
        {
          "type": "url",
          "id": "image_dark_url",
          "label": "Image URL (dark mode)",
          "info": "Alternative to image picker"
        },
        {
          "type": "text",
          "id": "alt_text",
          "label": "Alt text"
        },
        {
          "type": "header",
          "content": "Image Alignment"
        },
        {
          "type": "select",
          "id": "align_horizontal",
          "label": "Horizontal Alignment",
          "options": [
            { "value": "left", "label": "Left" },
            { "value": "center", "label": "Center" },
            { "value": "right", "label": "Right" }
          ],
          "default": "center",
          "info": "Controls horizontal positioning when image is cropped"
        },
        {
          "type": "select",
          "id": "align_vertical",
          "label": "Vertical Alignment",
          "options": [
            { "value": "top", "label": "Top" },
            { "value": "center", "label": "Center" },
            { "value": "bottom", "label": "Bottom" }
          ],
          "default": "center",
          "info": "Controls vertical positioning when image is cropped"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Hero Carousel",
      "blocks": [
        {
          "type": "slide"
        }
      ]
    }
  ]
}
{% endschema %}
